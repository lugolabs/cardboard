<header class="app-header bg-dark">
  <nav class="navbar navbar-expand-lg">
    <%= link_to '/', class: 'navbar-brand text-bold' do %>
      <span>
        <i class="iconly-0215-reading"></i>
      </span>
      cardboard
    <% end %>

    <% if signed_in? %>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#header-navbar-collapse" aria-controls="header-navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="header-navbar-collapse">
        <ul class="navbar-nav mr-auto ml-md-5">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="/" id="navbar-boards" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <%= t('.boards') %>
            </a>
            <div class="dropdown-menu" aria-labelledby="navbar-boards">
              <% if current_user_boards.any? %>
                <% current_user_boards.each do |board| %>
                  <%= link_to board.title, board, class: 'dropdown-item text-sm px-3', id: "header-board-title-#{board.id}" %>
                <% end %>
              <% else %>
                <%= link_to 'Add board', boards_path, method: 'post', class: 'dropdown-item text-sm px-3' %>
              <% end %>
            </div>
          </li>
          <li class="nav-item active">
            <%= link_to boards_path, method: 'post', class: 'nav-link' do %>
              <span class="iconly-0823-plus text-primary"></span>
            <% end %>
          </li>
        </ul>
      </div>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#menu" id="navbar-boards" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="iconly-0287-user"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar-boards">
            <%= link_to 'Sign out', sign_out_path, method: :delete, class: 'dropdown-item text-sm px-3' %>
          </div>
        </li>
      </ul>
    <% end %>
  </nav>
</header>
